# 个人静态网站项目规则

## 项目概述

这是一个现代化的个人静态网站项目，采用纯前端技术栈，注重性能、可访问性和用户体验。网站支持多语言、主题切换、响应式设计等现代Web特性。

## 技术栈

### 核心技术
- **HTML5**: 语义化标记，支持现代Web标准
- **CSS3**: 现代CSS特性，包括Grid、Flexbox、自定义属性等
- **Vanilla JavaScript**: 原生JavaScript，无框架依赖
- **Web APIs**: 使用现代浏览器API（Intersection Observer、Performance API等）

### 特性支持
- 响应式设计（移动优先）
- 深色/浅色主题切换
- 多语言支持（中文/英文）
- 无障碍访问（WCAG 2.1 AA标准）
- 性能优化（懒加载、代码分割等）
- SEO友好

## 文件结构规范

```
my-website/
├── index.html              # 主页面
├── css/                    # 样式文件
│   ├── main.css           # 主样式文件
│   ├── themes.css         # 主题样式
│   └── animations.css     # 动画样式
├── js/                     # JavaScript文件
│   ├── main.js            # 主应用入口
│   ├── i18n.js            # 国际化模块
│   ├── theme.js           # 主题管理
│   └── stats.js           # 统计功能
├── i18n/                   # 多语言资源
│   ├── zh-CN.json         # 中文语言包
│   └── en.json            # 英文语言包
├── assets/                 # 静态资源
│   ├── images/            # 图片资源
│   ├── icons/             # 图标文件
│   └── fonts/             # 字体文件
├── .trae/                  # 项目配置
│   └── rules/             # 项目规则
└── README.md              # 项目说明
```

## 代码规范

### HTML规范

1. **语义化标记**
   - 使用正确的HTML5语义元素（`<header>`, `<nav>`, `<main>`, `<section>`, `<article>`, `<footer>`等）
   - 避免使用无意义的`<div>`和`<span>`
   - 确保文档结构清晰、层次分明

2. **无障碍性**
   - 所有图片必须包含`alt`属性
   - 使用适当的ARIA属性
   - 确保键盘导航可用
   - 提供跳转到主内容的链接

3. **性能优化**
   - 使用`loading="lazy"`进行图片懒加载
   - 合理使用`preload`和`prefetch`
   - 压缩HTML文件

### CSS规范

1. **命名约定**
   - 使用BEM命名方法论（Block__Element--Modifier）
   - 类名使用小写字母和连字符
   - 避免使用ID选择器进行样式设置

2. **组织结构**
   - 按功能模块组织CSS文件
   - 使用CSS自定义属性（CSS Variables）
   - 遵循移动优先的响应式设计原则

3. **性能考虑**
   - 避免深层嵌套选择器（最多3层）
   - 使用高效的选择器
   - 合理使用CSS Grid和Flexbox
   - 启用CSS压缩

### JavaScript规范

1. **代码风格**
   - 使用ES6+语法
   - 采用模块化设计
   - 使用驼峰命名法
   - 添加适当的注释和文档

2. **性能优化**
   - 使用事件委托
   - 避免全局变量污染
   - 合理使用防抖和节流
   - 异步加载非关键资源

3. **错误处理**
   - 实现全局错误处理
   - 使用try-catch包装可能出错的代码
   - 提供用户友好的错误信息

## 开发工作流

### 开发环境

1. **本地开发**
   - 使用现代浏览器进行开发和测试
   - 启用开发者工具进行调试
   - 使用本地服务器（如Live Server）进行开发

2. **代码质量**
   - 定期进行代码审查
   - 使用浏览器开发者工具进行性能分析
   - 确保代码通过W3C验证

### 测试策略

1. **浏览器兼容性**
   - 支持现代浏览器（Chrome 90+, Firefox 88+, Safari 14+, Edge 90+）
   - 优雅降级处理不支持的特性
   - 移动端浏览器测试

2. **功能测试**
   - 多语言切换功能
   - 主题切换功能
   - 响应式布局
   - 无障碍访问
   - 性能指标

3. **用户体验测试**
   - 页面加载速度
   - 交互响应时间
   - 视觉一致性
   - 导航易用性

## 性能标准

### Core Web Vitals

- **LCP (Largest Contentful Paint)**: < 2.5秒
- **FID (First Input Delay)**: < 100毫秒
- **CLS (Cumulative Layout Shift)**: < 0.1

### 其他性能指标

- **FCP (First Contentful Paint)**: < 1.8秒
- **TTI (Time to Interactive)**: < 3.8秒
- **页面大小**: < 1MB（初始加载）
- **图片优化**: 使用现代格式（WebP、AVIF）

## 无障碍性标准

### WCAG 2.1 AA合规

1. **可感知性**
   - 提供替代文本
   - 确保足够的颜色对比度（4.5:1）
   - 支持缩放至200%

2. **可操作性**
   - 键盘完全可访问
   - 无闪烁内容
   - 提供跳过导航的方式

3. **可理解性**
   - 清晰的页面结构
   - 一致的导航
   - 错误提示和帮助信息

4. **健壮性**
   - 兼容辅助技术
   - 有效的HTML标记

## 国际化规范

### 多语言支持

1. **语言文件**
   - 使用JSON格式存储翻译
   - 按功能模块组织翻译键
   - 提供回退语言（默认中文）

2. **文本处理**
   - 避免硬编码文本
   - 考虑文本长度变化
   - 支持RTL语言（未来扩展）

3. **日期和数字格式**
   - 使用Intl API进行本地化
   - 支持不同的日期格式
   - 正确显示数字分隔符

## 安全规范

### 内容安全

1. **XSS防护**
   - 对用户输入进行转义
   - 使用Content Security Policy
   - 避免innerHTML直接插入用户内容

2. **外部资源**
   - 使用HTTPS加载外部资源
   - 验证第三方库的完整性
   - 最小化外部依赖

### 隐私保护

1. **数据收集**
   - 最小化数据收集
   - 明确告知用户数据使用
   - 提供数据删除选项

2. **本地存储**
   - 合理使用localStorage
   - 不存储敏感信息
   - 定期清理过期数据

## 部署规范

### 构建优化

1. **资源优化**
   - 压缩HTML、CSS、JavaScript
   - 优化图片（压缩、格式转换）
   - 启用Gzip压缩

2. **缓存策略**
   - 设置适当的缓存头
   - 使用版本控制进行缓存失效
   - 实现Service Worker（可选）

### 监控和分析

1. **性能监控**
   - 集成Web Vitals监控
   - 设置性能预算
   - 定期性能审计

2. **错误追踪**
   - 实现客户端错误收集
   - 监控JavaScript错误
   - 分析用户行为数据

## 维护规范

### 代码维护

1. **版本控制**
   - 使用语义化版本号
   - 编写清晰的提交信息
   - 定期备份代码

2. **文档更新**
   - 保持README文档最新
   - 更新API文档
   - 记录重要变更

### 内容维护

1. **定期更新**
   - 检查外部链接有效性
   - 更新过时信息
   - 添加新内容

2. **SEO优化**
   - 更新meta标签
   - 优化页面标题和描述
   - 维护sitemap

## 最佳实践

### 开发最佳实践

1. **渐进增强**
   - 确保基础功能在所有浏览器中可用
   - 逐步添加高级特性
   - 提供优雅降级

2. **模块化设计**
   - 保持组件独立性
   - 使用清晰的接口
   - 便于测试和维护

3. **性能优先**
   - 优化关键渲染路径
   - 延迟加载非关键资源
   - 监控性能指标

### 用户体验最佳实践

1. **加载体验**
   - 提供加载指示器
   - 实现骨架屏
   - 优化首屏加载时间

2. **交互体验**
   - 提供即时反馈
   - 使用适当的动画
   - 确保操作可预测

3. **错误处理**
   - 提供友好的错误信息
   - 指导用户解决问题
   - 提供重试机制

## 工具和资源

### 开发工具

- **代码编辑器**: VS Code, WebStorm
- **浏览器**: Chrome DevTools, Firefox Developer Tools
- **性能测试**: Lighthouse, WebPageTest
- **无障碍测试**: axe DevTools, WAVE

### 参考资源

- **Web标准**: MDN Web Docs, W3C规范
- **性能指南**: web.dev, Core Web Vitals
- **无障碍指南**: WCAG 2.1, A11y Project
- **最佳实践**: Google Web Fundamentals

## 结语

本项目规则旨在确保代码质量、性能和可维护性。所有开发者都应遵循这些规范，并在实践中不断完善和更新。通过遵循这些规则，我们能够构建出高质量、用户友好的现代Web应用。